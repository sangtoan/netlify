<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoán vị file LaTeX</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .container {
            margin-top: 20px;
        }
        .menu {
            width: 100%;
            background-color: #007bff;
            overflow: hidden;
        }
        .menu a {
            float: left;
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
        .menu a:hover {
            background-color: #ddd;
            color: black;
        }
    </style>
</head>
<body>
    <div class="menu">
        <a href="index.html">Home</a>
        <a href="#contact">Contact</a>
        <a href="tron_de.html">Trộn Đề</a>
        <a href="fixcode.html">Fix Code</a>
        <a href="find_latex.html">Tìm Kiếm</a>
        <a href="Ve_hinh.html">Vẽ Hình</a>
        <a href="tuong_tu.html">Đề Tương Tự</a>
        <a href="menu_tree.html">Menu ID</a>
    </div>
    <div class="container">
        <h1 class="mt-5">Hoán vị file LaTeX</h1>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="upload-tab" data-toggle="tab" href="#upload" role="tab" aria-controls="upload" aria-selected="true">Tải lên file</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="paste-tab" data-toggle="tab" href="#paste" role="tab" aria-controls="paste" aria-selected="false">Dán nội dung</a>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="upload" role="tabpanel" aria-labelledby="upload-tab">
                <form id="uploadForm" method="post" enctype="multipart/form-data" class="mt-3">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="school">Tên Trường:</label>
                            <input type="text" class="form-control" id="school" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="teacher">Tên Giáo Viên:</label>
                            <input type="text" class="form-control" id="teacher" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="exam">Tên Kỳ Thi:</label>
                            <input type="text" class="form-control" id="exam" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="subject">Tên Môn Thi:</label>
                            <input type="text" class="form-control" id="subject" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="time">Thời Gian Làm Bài (phút):</label>
                            <input type="number" class="form-control" id="time" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="made">Mã Đề Thi:</label>
                            <input type="text" class="form-control" id="made" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="uploadFile">Chọn file LaTeX:</label>
                            <input type="file" class="form-control" id="uploadFile" name="file" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="numFiles">Số lượng file hoán vị:</label>
                            <input type="number" class="form-control" id="numFiles" name="num_files" min="1" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="hoanViType">Loại hoán vị:</label>
                            <select class="form-control" id="hoanViType" name="hoan_vi_type">
                                <option value="ngoac">Hoán vị các cặp ngoặc</option>
                                <option value="cau_truc">Hoán vị các cặp ngoặc và cấu trúc</option>
                                <option value="giu_nguyen">Giữ nguyên đề</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="headerType">Loại khai báo đầu file:</label>
                            <select class="form-control" id="headerType" name="header_type">
                                <option value="default">Default</option>
                                <option value="option1">Option 1</option>
                                <option value="option2">Option 2</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Tải lên và hoán vị</button>
                </form>
                <button id="permuteButton" class="btn btn-secondary mt-3">Hoán vị</button>
            </div>
            <div class="tab-pane fade" id="paste" role="tabpanel" aria-labelledby="paste-tab">
                <form id="pasteForm" class="mt-3">
                    <div class="form-group">
                        <label for="pasteContent">Dán nội dung LaTeX:</label>
                        <textarea class="form-control" id="pasteContent" name="content" rows="10" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="numPasteFiles">Số lượng file hoán vị:</label>
                            <input type="number" class="form-control" id="numPasteFiles" name="num_files" min="1" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="hoanViTypePaste">Loại hoán vị:</label>
                            <select class="form-control" id="hoanViTypePaste" name="hoan_vi_type">
                                <option value="ngoac">Hoán vị các cặp ngoặc</option>
                                <option value="cau_truc">Hoán vị các cặp ngoặc và cấu trúc</option>
                                <option value="giu_nguyen">Giữ nguyên đề</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="headerTypePaste">Loại khai báo đầu file:</label>
                            <select class="form-control" id="headerTypePaste" name="header_type">
                                <option value="default">Default</option>
                                <option value="option1">Option 1</option>
                                <option value="option2">Option 2</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Hoán vị</button>
                </form>
            </div>
        </div>
        <div class="mt-5" id="resultSection" style="display: none;">
            <h2>Kết quả:</h2>
            <div id="results"></div>
        </div>
        <table id="latexTable" class="table mt-3">
            <thead>
                <tr>
                    <th>Số thứ tự</th>
                    <th>ID</th>
                    <th>ID Ý NGHĨA</th>
                    <th>Nội dung câu hỏi</th>
                    <th>Không trộn</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="hoan_vi_new.js"></script>
    <script>
        function copyToClipboard(text) {
            let tempTextarea = document.createElement('textarea');
            tempTextarea.value = text;
            document.body.appendChild(tempTextarea);
            tempTextarea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextarea);
            alert('Đã copy nội dung vào clipboard!');
        }
    </script>
</body>
</html>
